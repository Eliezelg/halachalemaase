(()=>{var e={};e.id=366,e.ids=[366],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},6134:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=a(260),s=a(8203),l=a(5155),i=a.n(l),n=a(7292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(r,o);let d=["",{children:["rabbis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9562)),"D:\\Sites\\Halachalemaase\\halacha\\app\\rabbis\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9611)),"D:\\Sites\\Halachalemaase\\halacha\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\Sites\\Halachalemaase\\halacha\\app\\rabbis\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/rabbis/page",pathname:"/rabbis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6483:(e,r,a)=>{Promise.resolve().then(a.bind(a,9107))},3435:(e,r,a)=>{Promise.resolve().then(a.bind(a,7036))},7036:(e,r,a)=>{"use strict";a.d(r,{default:()=>v});var t=a(5512),s=a(8009),l=a(5103);function i({className:e="",children:r}){return(0,t.jsx)("div",{className:`bg-white shadow-lg rounded-lg overflow-hidden ${e}`,children:r})}function n({children:e}){return(0,t.jsx)("div",{className:"px-6 py-4",children:e})}function o({children:e}){return(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:e})}function d({children:e}){return(0,t.jsx)("p",{className:"text-gray-600",children:e})}function c({children:e}){return(0,t.jsx)("div",{className:"px-6 py-4",children:e})}function u({children:e}){return(0,t.jsx)("div",{className:"px-6 py-4 bg-gray-50",children:e})}function x({children:e,variant:r="default",className:a=""}){return(0,t.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{default:"bg-blue-100 text-blue-800",secondary:"bg-gray-100 text-gray-800",outline:"border border-gray-300 text-gray-700"}[r]} ${a}`,children:e})}function m({children:e,variant:r="default",size:a="md",className:s="",...l}){return(0,t.jsx)("button",{className:`inline-flex items-center justify-center font-medium rounded-md transition-colors
        ${{default:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50",ghost:"text-gray-600 hover:bg-gray-100"}[r]}
        ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[a]}
        ${s}`,...l,children:e})}let p=({rabbi:e,onEdit:r,onDelete:a})=>(0,t.jsxs)(i,{className:"w-full max-w-md",children:[(0,t.jsx)(n,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"relative w-16 h-16 rounded-full overflow-hidden",children:(0,t.jsx)(l.default,{src:e.imageUrl||"/rabbis/rav.png",alt:`הרב ${e.firstName} ${e.lastName}`,fill:!0,className:"object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o,{children:`הרב ${e.firstName} ${e.lastName}`}),(0,t.jsx)(d,{children:e.city})]})]})}),(0,t.jsxs)(c,{children:[e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:e.description}),e.topics.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.topics.map((e,r)=>(0,t.jsx)(x,{variant:"secondary",children:e},r))}),e.languages.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Langues:"}),e.languages.map((e,r)=>(0,t.jsx)(x,{variant:"outline",children:e},r))]}),e.address&&(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Adresse:"})," ",e.address]})]}),(0,t.jsxs)(u,{className:"flex justify-end space-x-2",children:[r&&(0,t.jsx)(m,{variant:"outline",onClick:()=>r(e),children:"Modifier"}),a&&(0,t.jsx)(m,{variant:"destructive",onClick:()=>a(e.id),children:"Supprimer"})]})]}),g=(0,a(4825).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var h=a(7833);let f={"מצוות בין אדם לחברו":["חושן משפט"],כשרות:["בשר בחלב","טבילת כלים"],"תפילה וברכות":["ברכות","תפילה"],מועדים:["חגים","שבת"],"טהרת המשפחה":["נדה"]},b=({cities:e,selectedTopic:r,selectedCity:a,onTopicChange:l,onCityChange:i,onSearchChange:n})=>{let[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[x,m]=(0,s.useState)("");return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"חיפוש לפי שם הרב...",value:x,onChange:e=>{let r=e.target.value;m(r),n(r)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg pl-10 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,t.jsx)(g,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})}),(0,t.jsxs)("div",{className:"relative w-full md:w-48",children:[(0,t.jsxs)("button",{onClick:()=>u(!c),className:"w-full px-4 py-2 text-right bg-white border border-gray-300 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,t.jsx)("span",{className:"truncate",children:"all"===a?"כל הערים":a}),(0,t.jsx)(h.A,{className:`w-5 h-5 transition-transform ${c?"transform rotate-180":""}`})]}),c&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[(0,t.jsx)("button",{onClick:()=>{i("all"),u(!1)},className:`w-full px-4 py-2 text-right hover:bg-gray-100 ${"all"===a?"bg-primary-50 text-primary-600":""}`,children:"כל הערים"}),e.map(e=>(0,t.jsx)("button",{onClick:()=>{i(e),u(!1)},className:`w-full px-4 py-2 text-right hover:bg-gray-100 ${a===e?"bg-primary-50 text-primary-600":""}`,children:e},e))]})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-full transition-colors ${"all"===r?"bg-primary-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-800"}`,children:"הכל"}),Object.entries(f).map(([e,a])=>(0,t.jsx)("div",{className:"relative inline-block",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-4 py-2 rounded-full transition-colors ${r===e?"bg-primary-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-800"}`,children:e},e))})},e))]})})]})},y="f83df09e-7f11-4e82-8b07-ffb2c9a352f5",j=e=>[...e].sort((e,r)=>e.id===y?-1:r.id===y?1:`${e.firstName} ${e.lastName}`.localeCompare(`${r.firstName} ${r.lastName}`,"he")),v=()=>{let[e,r]=(0,s.useState)("all"),[a,l]=(0,s.useState)("all"),[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)([]),[c,u]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/rabbis");if(!e.ok)throw Error("Failed to load rabbis");let r=(await e.json()).filter(e=>e.firstName&&e.lastName&&Array.isArray(e.topics)&&e.topics.length>0);console.log("Rabbis data:",r.map(e=>({id:e.id,name:`${e.firstName} ${e.lastName}`})));let a=j(r);d(a)}catch(e){console.error("Error loading rabbis:",e),m("שגיאה בטעינת רשימת הרבנים")}finally{u(!1)}})()},[]);let g=o.filter(r=>{let t="all"===e||r.topics.includes(e),s="all"===a||r.city===a,l=""===i||`${r.firstName} ${r.lastName}`.toLowerCase().includes(i.toLowerCase())||r.description&&r.description.toLowerCase().includes(i.toLowerCase());return t&&s&&l}),h=Array.from(new Set(o.map(e=>e.city).filter(Boolean))).sort();return c?(0,t.jsx)("main",{className:"flex-grow",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mx-auto"}),(0,t.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,r)=>(0,t.jsx)("div",{className:"h-64 bg-gray-200 rounded"},r))})]})})}):x?(0,t.jsx)("main",{className:"flex-grow",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-center",children:x})})}):(0,t.jsx)("main",{className:"flex-grow",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-center text-primary-800 mb-8",children:"רבני בית ההוראה"}),(0,t.jsx)(b,{cities:h,selectedTopic:e,selectedCity:a,onTopicChange:r,onCityChange:l,onSearchChange:n}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:g.length>0?g.map(e=>(0,t.jsx)(p,{rabbi:e},e.id)):(0,t.jsxs)("div",{className:"col-span-full bg-gray-50 rounded-lg p-8 text-center text-gray-600",children:[(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"לא נמצאו רבנים התואמים את החיפוש"}),(0,t.jsx)("p",{className:"text-sm",children:"נסה לשנות את הפילטרים או לחפש מחדש"})]})})]})})}},5103:(e,r,a)=>{"use strict";a.d(r,{default:()=>s.a});var t=a(3864),s=a.n(t)},3864:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{default:function(){return o},getImageProps:function(){return n}});let t=a(5473),s=a(2034),l=a(1902),i=t._(a(1628));function n(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(r))void 0===a&&delete r[e];return{props:r}}let o=l.Image},9562:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>l});var t=a(2740),s=a(9107);function l(){return(0,t.jsx)(s.default,{})}},9107:(e,r,a)=>{"use strict";a.d(r,{default:()=>t});let t=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Sites\\\\Halachalemaase\\\\halacha\\\\components\\\\pages\\\\RabbisPage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Sites\\Halachalemaase\\halacha\\components\\pages\\RabbisPage.tsx","default")},7833:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(4825).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[638,145,902,67],()=>a(6134));module.exports=t})();