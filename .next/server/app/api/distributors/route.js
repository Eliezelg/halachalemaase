(()=>{var r={};r.id=412,r.ids=[412],r.modules={6330:r=>{"use strict";r.exports=require("@prisma/client")},846:r=>{"use strict";r.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:r=>{"use strict";r.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:r=>{"use strict";r.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:r=>{"use strict";r.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:r=>{"use strict";r.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2169:(r,e,t)=>{"use strict";t.r(e),t.d(e,{patchFetch:()=>b,routeModule:()=>x,serverHooks:()=>y,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>j});var s={};t.r(s),t.d(s,{DELETE:()=>l,GET:()=>p,POST:()=>d,PUT:()=>c});var i=t(2706),o=t(8203),n=t(5994),a=t(9187),u=t(1587);async function p(){try{let r=await u.z.distributor.findMany({orderBy:{name:"asc"}});return a.NextResponse.json(r)}catch(r){return console.error("API Error - GET /api/distributors:",r),a.NextResponse.json({error:"Error fetching distributors"},{status:500})}}async function d(r){try{let e=await r.json();if(!e.name?.trim())return a.NextResponse.json({error:"Name is required"},{status:400});if(!e.city?.trim())return a.NextResponse.json({error:"City is required"},{status:400});let t=await u.z.distributor.create({data:{name:e.name,city:e.city,phone:e.phone||null}});return a.NextResponse.json(t)}catch(r){return console.error("API Error - POST /api/distributors:",r),a.NextResponse.json({error:"Error creating distributor"},{status:500})}}async function c(r){try{let e=await r.json();if(!e.id)return a.NextResponse.json({error:"Distributor ID is required"},{status:400});if(!e.name?.trim())return a.NextResponse.json({error:"Name is required"},{status:400});if(!e.city?.trim())return a.NextResponse.json({error:"City is required"},{status:400});let t=await u.z.distributor.update({where:{id:e.id},data:{name:e.name,city:e.city,phone:e.phone||null}});return a.NextResponse.json(t)}catch(r){return console.error("API Error - PUT /api/distributors:",r),a.NextResponse.json({error:"Error updating distributor"},{status:500})}}async function l(r){try{let e=await r.json();if(!e.id)return a.NextResponse.json({error:"Distributor ID is required"},{status:400});let t=await u.z.distributor.delete({where:{id:e.id}});return a.NextResponse.json(t)}catch(r){return console.error("API Error - DELETE /api/distributors:",r),a.NextResponse.json({error:"Error deleting distributor"},{status:500})}}let x=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/distributors/route",pathname:"/api/distributors",filename:"route",bundlePath:"app/api/distributors/route"},resolvedPagePath:"D:\\Sites\\Halachalemaase\\halacha\\app\\api\\distributors\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:m,workUnitAsyncStorage:j,serverHooks:y}=x;function b(){return(0,n.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:j})}},6487:()=>{},8335:()=>{},1587:(r,e,t)=>{"use strict";t.d(e,{z:()=>i});var s=t(6330);let i=global.prisma||new s.PrismaClient}};var e=require("../../../webpack-runtime.js");e.C(r);var t=r=>e(e.s=r),s=e.X(0,[638,452],()=>t(2169));module.exports=s})();