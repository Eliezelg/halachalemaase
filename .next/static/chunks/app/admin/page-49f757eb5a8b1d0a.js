(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{4121:(e,t,r)=>{Promise.resolve().then(r.bind(r,8476))},8476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),n=r(6046);function o(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),u=(0,n.useRouter)();(0,a.useEffect)(()=>{"true"===localStorage.getItem("admin_auth")&&u.push("/admin/weekly")},[]);let l=async t=>{t.preventDefault(),o("");try{let t=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})});(await t.json()).success?(localStorage.setItem("admin_auth","true"),u.push("/admin/weekly")):o("Mot de passe incorrect")}catch(e){o("Erreur de connexion")}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[(0,s.jsx)("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"כניסת מנהל"}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:l,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"סיסמא"}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Mot de passe",value:e,onChange:e=>t(e.target.value)})]}),r&&(0,s.jsx)("div",{className:"text-red-500 text-sm text-center",children:r}),(0,s.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"התחברות"})]})]})})}},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(4121)),_N_E=e.O()}]);