(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{1423:(e,t,r)=>{Promise.resolve().then(r.bind(r,2386))},2386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(5155),s=r(2115),o=r(6046),a=r(9208);function i(){let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),c=(0,o.useRouter)();(0,s.useEffect)(()=>{"true"===a.A.get("admin_auth")&&c.push("/admin/weekly")},[]);let u=async t=>{t.preventDefault(),i("");try{let t=await fetch("/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})});(await t.json()).success?(a.A.set("admin_auth","true",{expires:1}),c.push("/admin/weekly")):i("סיסמה שגויה")}catch(e){i("שגיאת התחברות")}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"כניסת מנהל"})}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:u,children:[(0,n.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"sr-only",children:"סיסמה"}),(0,n.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm text-right",placeholder:"סיסמה",value:e,onChange:e=>t(e.target.value),dir:"rtl"})]})}),r&&(0,n.jsx)("div",{className:"text-red-500 text-sm text-center",dir:"rtl",children:r}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"התחבר"})})]})]})})}},6046:(e,t,r)=>{"use strict";var n=r(6658);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},9208:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>s});var s=function e(t,r){function s(e,s,o){if("undefined"!=typeof document){"number"==typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var i in o)o[i]&&(a+="; "+i,!0!==o[i]&&(a+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},s=0;s<r.length;s++){var o=r[s].split("="),a=o.slice(1).join("=");try{var i=decodeURIComponent(o[0]);if(n[i]=t.read(a,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(1423)),_N_E=e.O()}]);